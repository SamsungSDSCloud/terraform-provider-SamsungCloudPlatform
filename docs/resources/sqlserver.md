---
page_title: "scp_sqlserver Resource - scp"
subcategory: ""
description: |-
  Provide Microsoft SQL Server resource.
---

# Resource: scp_sqlserver

Provide Microsoft SQL Server resource.


## Example Usage

```terraform
data "scp_region" "region" {
}

data "scp_standard_image" "mssql_2019_enterprise_eng_image" {
  service_group = "DATABASE"
  service = "Microsoft SQL Server"
  region = data.scp_region.region.location

  filter {
    name = "image_name"
    values = ["Microsoft SQL Server 2019 Enterprise ENG"]
  }
}

resource "scp_sqlserver" "my_ms_sql" {
  image_id = data.scp_standard_image.mssql_2019_enterprise_eng_image.id

  server_group_name = "mssqlsvgr"
  virtual_server_name_prefix = "mssqlvs"

  vpc_id = data.terraform_remote_state.vpc.outputs.id
  subnet_id = data.terraform_remote_state.subnet.outputs.id
  security_group_ids = [data.terraform_remote_state.security-group.outputs.id]

  db_service_name = "Dbsvcname"
  db_name = "dba"
  db_user_id = var.id
  db_user_password = var.password
  db_port = 9548

  license_key = var.license

  cpu_count = var.cpu
  memory_size_gb = var.memory

  contract_discount = "None"

  timezone = "Asia/Seoul"

  db_collation = "Korean_Wansung_CS_AS"

  data_block_storage_size_gb = 100
  encrypt_enabled = false

  additional_block_storages {
    storage_usage = "DATA"
    storage_size_gb = 10
  }

  additional_db = ["dbb"]

  backup {
    backup_retention_day = 7
    backup_start_hour = 23
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `additional_db` (List of String) Names of additional database.
- `contract_discount` (String) Contract : None, 1-year, 3-year
- `cpu_count` (Number) CPU core count (2, 4, 8,..)
- `data_block_storage_size_gb` (Number) Data Block Storage size in gigabytes.
- `db_name` (String) Name of database.
- `db_port` (Number) Port number of database.
- `db_service_name` (String) Name of SQL server database service. (Starts with a capital letter, 1 to 15 alphabet only)
- `db_user_id` (String) User account id. (2 to 20 alpha-numerics)
- `db_user_password` (String) User account password
- `encrypt_enabled` (Boolean)
- `image_id` (String) SQL Server standard image id.
- `license_key` (String) License key.
- `memory_size_gb` (Number) Memory size in gigabytes(4, 8, 16,..)
- `security_group_ids` (List of String) Security-Group ids of this sql server group. Each security-group must be a valid security-group resource which is attached to the VPC.
- `server_group_name` (String) Name of database cluster. (3 to 20 characters only)
- `subnet_id` (String) Subnet ID.
- `timezone` (String) Timezone setting of this database.
- `virtual_server_name_prefix` (String) Prefix of virtual server. (3 to 13 alpha-numerics with dash)
- `vpc_id` (String) VPC ID.

### Optional

- `additional_block_storages` (Block List) Additional block storages. (see [below for nested schema](#nestedblock--additional_block_storages))
- `backup` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--backup))
- `db_collation` (String) Commands that specify how to sort and compare data
- `high_availability` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--high_availability))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `cluster_vip` (String) Cluster virtual IP.
- `external_vip` (String) External virtual IP.
- `id` (String) The ID of this resource.
- `vip` (String) Virtual IP.

<a id="nestedblock--additional_block_storages"></a>
### Nested Schema for `additional_block_storages`

Required:

- `storage_size_gb` (Number) Default data storage size in gigabytes. (10~7,168 GB)
- `storage_usage` (String) Storage usage. (DATA, ARCHIVE)


<a id="nestedblock--backup"></a>
### Nested Schema for `backup`

Required:

- `backup_retention_day` (Number) Backup File Retention Day.(7 <= day <= 35)
- `backup_start_hour` (Number) The time at which the backup starts. (from 0 to 23)

Read-Only:

- `object_storage_id` (String) Object storage ID where backup files will be stored.


<a id="nestedblock--high_availability"></a>
### Nested Schema for `high_availability`

Optional:

- `active_server_ip` (String) Static IP to assign to the ACTIVE server.
- `reserved_nat_ip_id` (String) ID of Reserved Virtual NAT IP.
- `standby_server_ip` (String) Static IP to assign to the STANDBy server.
- `use_vip_nat` (Boolean) use Virtual IP NAT.
- `virtual_ip` (String) Virtual IP for database cluster access.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)
